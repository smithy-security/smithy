name: "valid"
description: "Clones a repository"
type: "target"
parameters:
  - name: "git_clone_repo_url"
    type: "string"
    value: "https://github.com/0c34/govwa.git"
  - name: "git_clone_reference"
    type: "string"
    value: "master"
  - name: "git_clone_magic_arg"
    type: "const:string"
    value: "-a 1 -b 2 -c 3"
steps:
  - name: "clone-repo"
    env_vars:
      GIT_CLONE_REPO_URL: "{{ parameters.git_clone_repo_url }}"
      GIT_CLONE_REFERENCE: "{{ parameters.git_clone_reference }}"
      GIT_CLONE_MAGIC_ARG: "{{- with shlex parameters.git_clone_magic_arg -}}"
    image: "localhost:5000/components/targets/git-clone:latest"
