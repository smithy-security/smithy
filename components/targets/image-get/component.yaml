name: image-get
description: "Downloads an image and saves it as `image.tar.gz` in the {{ sourceCodeWorkspace}} "
type: target
parameters:
  - name: image
    type: string
    value: ""
  - name: username
    type: string
    value: ""
  - name: password
    type: string
    value: ""
steps:
  - name: download-image
    image: components/targets/image-get/skopeo-getter
    executable: /bin/bash
    args:
      - -c
      - /entrypoint.sh "{{ .parameters.image }}" "{{ sourceCodeWorkspace }}/image.tar" "{{ .parameters.username }}" "{{.parameters.password}}"
